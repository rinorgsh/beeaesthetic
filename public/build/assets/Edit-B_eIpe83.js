import{C as k,c as d,b as a,f as p,d as t,h as f,g,u as s,P as v,w as P,i as m,j as u,v as c,k as V,t as b,l as M}from"./app-DPtcVVG7.js";import{T as U,F as _}from"./Footer-BSUqnucT.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const D={class:"admin-section"},F={class:"container"},E={class:"page-header"},N={class:"form-group"},w={class:"form-group"},B={class:"form-group"},I={class:"form-row"},T={class:"form-group"},q={class:"form-group"},S={key:0,class:"form-group"},j={class:"current-image"},G=["src","alt"],$={class:"form-group"},z={key:1,class:"form-group"},A={key:2,class:"form-group"},J={class:"form-group"},O={class:"checkbox-container"},R={class:"form-actions"},Z=["disabled"],H={key:0},K={key:1},L={__name:"Edit",props:{product:Object},setup(l){const r=l,o=k({name:r.product.name,description:r.product.description,short_description:r.product.short_description||"",price:r.product.price,type:r.product.type,is_active:r.product.is_active,image:null,file:null}),y=n=>{o.image=n.target.files[0]},x=n=>{o.file=n.target.files[0]},h=()=>{o.post(`/admin/products/${r.product.id}`,{forceFormData:!0,preserveScroll:!0,onError:n=>{console.error("Erreurs:",n)}})};return(n,e)=>(a(),d("div",null,[p(U),t("section",D,[t("div",F,[t("div",E,[p(s(v),{href:"/admin/products",class:"back-link"},{default:f(()=>e[6]||(e[6]=[g("← Retour")])),_:1}),e[7]||(e[7]=t("h1",{class:"page-title"},"Modifier le produit",-1))]),e[21]||(e[21]=t("div",{class:"page-divider"},null,-1)),t("form",{onSubmit:P(h,["prevent"]),class:"product-form"},[t("div",N,[e[8]||(e[8]=t("label",null,"Nom du produit",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>s(o).name=i),type:"text",required:"",placeholder:"Ex: Guide de la Manucure Parfaite"},null,512),[[c,s(o).name]])]),t("div",w,[e[9]||(e[9]=t("label",null,"Description courte",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s(o).short_description=i),type:"text",placeholder:"Une courte phrase accrocheuse"},null,512),[[c,s(o).short_description]])]),t("div",B,[e[10]||(e[10]=t("label",null,"Description complète",-1)),u(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=i=>s(o).description=i),required:"",rows:"6",placeholder:"Description détaillée du produit"},null,512),[[c,s(o).description]])]),t("div",I,[t("div",T,[e[11]||(e[11]=t("label",null,"Prix (€)",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>s(o).price=i),type:"number",step:"0.01",min:"0",required:"",placeholder:"15.00"},null,512),[[c,s(o).price]])]),t("div",q,[e[13]||(e[13]=t("label",null,"Type",-1)),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=i=>s(o).type=i)},e[12]||(e[12]=[t("option",{value:"digital"},"Digital",-1),t("option",{value:"physical"},"Physique",-1)]),512),[[V,s(o).type]])])]),l.product.image?(a(),d("div",S,[e[14]||(e[14]=t("label",null,"Image actuelle",-1)),t("div",j,[t("img",{src:`/storage/${l.product.image}`,alt:l.product.name},null,8,G)])])):m("",!0),t("div",$,[t("label",null,b(l.product.image?"Changer l'image":"Image du produit"),1),t("input",{type:"file",accept:"image/*",onChange:y,class:"file-input"},null,32),e[15]||(e[15]=t("p",{class:"input-hint"},"JPG, PNG (max 2MB)",-1))]),s(o).type==="digital"&&l.product.file_path?(a(),d("div",z,e[16]||(e[16]=[t("label",null,"Fichier actuel",-1),t("p",{class:"file-info"},"✅ Fichier uploadé",-1)]))):m("",!0),s(o).type==="digital"?(a(),d("div",A,[t("label",null,b(l.product.file_path?"Changer le fichier":"Fichier téléchargeable"),1),t("input",{type:"file",accept:".pdf,.zip",onChange:x,class:"file-input"},null,32),e[17]||(e[17]=t("p",{class:"input-hint"},"PDF, ZIP (max 10MB)",-1))])):m("",!0),t("div",J,[t("label",O,[u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>s(o).is_active=i),type:"checkbox",class:"checkbox-input"},null,512),[[M,s(o).is_active]]),e[18]||(e[18]=t("span",{class:"checkbox-custom"},null,-1)),e[19]||(e[19]=t("span",{class:"checkbox-label-text"},"Produit actif (visible sur le site)",-1))])]),t("div",R,[p(s(v),{href:"/admin/products",class:"btn-cancel"},{default:f(()=>e[20]||(e[20]=[g(" Annuler ")])),_:1}),t("button",{type:"submit",disabled:s(o).processing,class:"btn-submit"},[s(o).processing?(a(),d("span",H,"Enregistrement...")):(a(),d("span",K,"Mettre à jour"))],8,Z)])],32)])]),p(_)]))}},ee=C(L,[["__scopeId","data-v-930d6e77"]]);export{ee as default};
