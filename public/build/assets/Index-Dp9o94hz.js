import{r as k,c as l,b as i,f as r,d as t,i as v,h as u,g as o,u as p,P as c,n as b,t as a,F as C,e as S,w as N,j as w,v as B,W as D}from"./app-DPtcVVG7.js";import{T as F,F as T}from"./Footer-BSUqnucT.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const $={class:"admin-section"},E={class:"container"},I={class:"page-header"},A={class:"filters"},j={key:0,class:"success-message"},L={key:1,class:"empty-state"},O={key:2,class:"orders-list"},R={class:"order-header"},U={class:"order-number"},W={class:"order-customer"},z={class:"order-price"},G={class:"order-products"},H={class:"product-type"},J={key:0,class:"order-address"},K={class:"address-text"},Q={class:"order-actions"},X=["onClick"],Y={class:"form-group"},Z={__name:"Index",props:{orders:Object,filter:String},setup(d){const y=k(!1),g=k(null),m=k(""),_=n=>n.items.some(s=>s.product.type==="physical"),P=n=>new Intl.NumberFormat("fr-BE",{style:"currency",currency:"EUR"}).format(n),M=n=>{g.value=n,m.value="",y.value=!0},h=()=>{y.value=!1,g.value=null,m.value=""},q=()=>{D.post(`/admin/orders/${g.value.id}/ship`,{tracking_number:m.value},{onSuccess:()=>{h()}})};return(n,s)=>{var x;return i(),l("div",null,[r(F),t("section",$,[t("div",E,[t("div",I,[r(p(c),{href:"/admin",class:"back-link"},{default:u(()=>s[2]||(s[2]=[o("← Retour")])),_:1}),s[3]||(s[3]=t("h1",{class:"page-title"},"Commandes",-1))]),s[15]||(s[15]=t("div",{class:"page-divider"},null,-1)),t("div",A,[r(p(c),{href:"/admin/orders?filter=all",class:b(["filter-btn",d.filter==="all"&&"active"])},{default:u(()=>s[4]||(s[4]=[o(" Toutes ")])),_:1},8,["class"]),r(p(c),{href:"/admin/orders?filter=to_ship",class:b(["filter-btn",d.filter==="to_ship"&&"active"])},{default:u(()=>s[5]||(s[5]=[o(" À expédier ")])),_:1},8,["class"]),r(p(c),{href:"/admin/orders?filter=physical",class:b(["filter-btn",d.filter==="physical"&&"active"])},{default:u(()=>s[6]||(s[6]=[o(" Physiques ")])),_:1},8,["class"]),r(p(c),{href:"/admin/orders?filter=digital",class:b(["filter-btn",d.filter==="digital"&&"active"])},{default:u(()=>s[7]||(s[7]=[o(" Digitales ")])),_:1},8,["class"])]),(x=n.$page.props.flash)!=null&&x.success?(i(),l("div",j,a(n.$page.props.flash.success),1)):v("",!0),d.orders.data.length===0?(i(),l("div",L,s[8]||(s[8]=[t("p",null,"Aucune commande",-1)]))):(i(),l("div",O,[(i(!0),l(C,null,S(d.orders.data,e=>(i(),l("div",{key:e.id,class:"order-card"},[t("div",R,[t("div",null,[t("h3",U,"#"+a(e.order_number),1),t("p",W,a(e.customer_name),1)]),t("span",z,a(P(e.amount)),1)]),s[14]||(s[14]=t("div",{class:"order-divider"},null,-1)),t("div",G,[s[9]||(s[9]=t("p",{class:"section-label"},"Produits",-1)),t("ul",null,[(i(!0),l(C,null,S(e.items,f=>(i(),l("li",{key:f.id,class:"product-item"},[o(a(f.product.name)+" ×"+a(f.quantity)+" ",1),t("span",H,a(f.product.type==="digital"?"Digital":"Physique"),1)]))),128))])]),_(e)?(i(),l("div",J,[s[12]||(s[12]=t("p",{class:"section-label"},"Adresse",-1)),t("p",K,[o(a(e.shipping_name),1),s[10]||(s[10]=t("br",null,null,-1)),o(" "+a(e.shipping_address),1),s[11]||(s[11]=t("br",null,null,-1)),o(" "+a(e.shipping_postal_code)+" "+a(e.shipping_city),1)])])):v("",!0),t("div",Q,[_(e)&&!e.shipped_at?(i(),l("button",{key:0,onClick:f=>M(e),class:"btn-ship"}," Marquer expédiée ",8,X)):v("",!0),r(p(c),{href:`/admin/orders/${e.id}`,class:"btn-details"},{default:u(()=>s[13]||(s[13]=[o(" Détails ")])),_:2},1032,["href"])])]))),128))]))])]),y.value?(i(),l("div",{key:0,class:"modal-overlay",onClick:h},[t("div",{class:"modal-content",onClick:s[1]||(s[1]=N(()=>{},["stop"]))},[s[18]||(s[18]=t("h3",{class:"modal-title"},"Marquer comme expédiée",-1)),t("form",{onSubmit:N(q,["prevent"])},[t("div",Y,[s[16]||(s[16]=t("label",null,"Numéro de suivi",-1)),w(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>m.value=e),type:"text",required:"",placeholder:"3SBEL123456789"},null,512),[[B,m.value]])]),t("div",{class:"modal-actions"},[t("button",{type:"button",onClick:h,class:"btn-cancel"}," Annuler "),s[17]||(s[17]=t("button",{type:"submit",class:"btn-confirm"}," Confirmer ",-1))])],32)])])):v("",!0),r(T)])}}},is=V(Z,[["__scopeId","data-v-6997dd26"]]);export{is as default};
