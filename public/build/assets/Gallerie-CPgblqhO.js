import{u as U,T as z,F as A}from"./Footer-VL4nrpqU.js";import{r as g,s as B,o as G,z as q,c as i,b as r,d as s,i as v,t as h,u as f,F as $,e as R,A as V,n as Y,w as y,B as j,f as C}from"./app-CGx5xUBW.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const J={class:"gallerie-section py-5"},K={class:"container"},P={class:"section-header text-center mb-5"},Q={class:"section-title"},W={class:"section-subtitle"},X={class:"gallerie-grid"},Z=["onClick"],ee={class:"image-container"},te=["src","alt","fetchpriority"],se={key:0,class:"loading-container text-center mt-4"},ae={class:"loading-text"},le={key:1,class:"end-message text-center mt-4"},oe={class:"end-text mt-2"},ne=["src","alt"],ie="gallery",b=8,re=8,ce={__name:"GallerieSection",setup(M){const{t:d}=U(),x="dqljt4ans",m=(t,e)=>`https://res.cloudinary.com/${x}/image/upload/w_${e},f_auto,q_auto,dpr_auto/${ie}/${t}`,N=()=>{const t=[];for(let e=1;e<=22;e++){const o=String(e).padStart(5,"0");t.push({id:`image${o}`,alt:`Image ${e}`})}return t},L=t=>{t.forEach(e=>{if(e>=0&&e<c.value.length){const o=c.value[e],n=new Image;n.src=m(o.id,600)}})},I=t=>{t.forEach(e=>{if(e>=0&&e<a.value.length){const o=a.value[e],n=new Image;n.src=m(o.id,1920)}})},c=g(N()),a=g([]),u=g(!1),k=g(!1),l=g(0),p=B(()=>a.value.length<c.value.length),S=()=>{!p.value||u.value||(u.value=!0,setTimeout(()=>{const t=a.value.length,e=Math.min(t+re,c.value.length),o=c.value.slice(t,e);a.value=[...a.value,...o],u.value=!1,p.value&&L([e,e+1,e+2])},300))};let _=null;const O=()=>{const t=document.createElement("div");t.classList.add("scroll-sentinel"),document.querySelector(".gallerie-section").appendChild(t),_=new IntersectionObserver(e=>{e[0].isIntersecting&&p.value&&!u.value&&S()},{rootMargin:"500px",threshold:.1}),_.observe(t)},D=t=>{l.value=t,k.value=!0,document.body.style.overflow="hidden",I([t-1,t,t+1])},w=()=>{k.value=!1,document.body.style.overflow=""},E=()=>{l.value<a.value.length-1&&(l.value++,I([l.value+1]))},F=()=>{l.value>0&&(l.value--,I([l.value-1]))},T=()=>{a.value=c.value.slice(0,b),L([b,b+1,b+2]),j(()=>{O()})};return G(()=>{T()}),q(()=>{_&&_.disconnect()}),(t,e)=>(r(),i("section",J,[s("div",K,[s("div",P,[s("h2",Q,h(f(d).gallery.title),1),e[1]||(e[1]=s("div",{class:"separator"},[s("span")],-1)),s("p",W,h(f(d).gallery.subtitle),1)]),s("div",X,[(r(!0),i($,null,R(a.value,(o,n)=>(r(),i("div",{key:n,class:Y(["gallerie-item",{[`animation-${n%4}`]:!0}]),onClick:de=>D(n),style:V({animationDelay:`${n*.15}s`})},[s("div",ee,[s("img",{src:m(o.id,600),alt:o.alt,class:"gallerie-image",loading:"lazy",fetchpriority:n<8?"high":"low"},null,8,te)])],14,Z))),128))]),u.value?(r(),i("div",se,[e[2]||(e[2]=s("div",{class:"loading-spinner"},null,-1)),s("p",ae,h(f(d).gallery.loading),1)])):v("",!0),!p.value&&a.value.length>0&&!u.value?(r(),i("div",le,[e[3]||(e[3]=s("div",{class:"separator mt-4"},[s("span")],-1)),s("p",oe,h(f(d).gallery.end_message),1)])):v("",!0),k.value?(r(),i("div",{key:2,class:"lightbox",onClick:w},[s("button",{class:"lightbox-close",onClick:y(w,["stop"])},"×"),l.value>0?(r(),i("button",{key:0,class:"lightbox-prev",onClick:y(F,["stop"])},"←")):v("",!0),s("div",{class:"lightbox-content",onClick:e[0]||(e[0]=y(()=>{},["stop"]))},[s("img",{src:m(a.value[l.value].id,1920),alt:a.value[l.value].alt,class:"lightbox-img"},null,8,ne)]),l.value<a.value.length-1?(r(),i("button",{key:1,class:"lightbox-next",onClick:y(E,["stop"])},"→")):v("",!0)])):v("",!0)])]))}},ue=H(ce,[["__scopeId","data-v-d1a56da5"]]),_e={__name:"Gallerie",props:{title:String},setup(M){return(d,x)=>(r(),i($,null,[C(z),C(ue),C(A)],64))}};export{_e as default};
