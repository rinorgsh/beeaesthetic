import{T as $,F as G}from"./Footer-BUi_QSZ0.js";import{r as d,k as N,o as T,y as F,c as o,b as n,d as t,j as g,F as k,e as V,h,z as B,A as E,n as O,f as b}from"./app-DrR8SJRh.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const D={class:"gallerie-section py-5"},q={class:"container"},A={class:"gallerie-grid"},U=["onClick"],H={class:"image-container"},J=["src","alt","fetchpriority"],K={key:0,class:"loading-container text-center mt-4"},P={key:1,class:"end-message text-center mt-4"},Q=["src","alt"],_=8,R=8,W={__name:"GallerieSection",setup(x){const y=()=>{const s=[];for(let e=1;e<=35;e++){const i=String(e).padStart(5,"0");s.push({src:`/Images/image${i}.jpeg`,alt:`Image ${e}`})}return s},r=s=>{s.forEach(e=>{if(e>=0&&e<c.value.length){const i=new Image;i.src=c.value[e].src}})},c=d(y()),l=d([]),u=d(!1),f=d(!1),a=d(0),m=N(()=>l.value.length<c.value.length),C=()=>{!m.value||u.value||(u.value=!0,setTimeout(()=>{const s=l.value.length,e=Math.min(s+R,c.value.length),i=c.value.slice(s,e);l.value=[...l.value,...i],u.value=!1,m.value&&r([e,e+1,e+2])},300))};let p=null;const L=()=>{const s=document.createElement("div");s.classList.add("scroll-sentinel"),document.querySelector(".gallerie-section").appendChild(s),p=new IntersectionObserver(e=>{e[0].isIntersecting&&m.value&&!u.value&&C()},{rootMargin:"500px",threshold:.1}),p.observe(s)},w=s=>{a.value=s,f.value=!0,document.body.style.overflow="hidden",r([s-1,s+1])},I=()=>{f.value=!1,document.body.style.overflow=""},M=()=>{a.value<l.value.length-1&&(a.value++,r([a.value+1]))},S=()=>{a.value>0&&(a.value--,r([a.value-1]))},z=()=>{l.value=c.value.slice(0,_),r([_,_+1,_+2]),B(()=>{L()})};return T(()=>{z()}),F(()=>{p&&p.disconnect()}),(s,e)=>(n(),o("section",D,[t("div",q,[e[3]||(e[3]=t("div",{class:"section-header text-center mb-5"},[t("h2",{class:"section-title"},"Gallerie"),t("div",{class:"separator"},[t("span")]),t("p",{class:"section-subtitle"},"Découvrez nos plus belles créations")],-1)),t("div",A,[(n(!0),o(k,null,V(l.value,(i,v)=>(n(),o("div",{key:v,class:O(["gallerie-item",{[`animation-${v%4}`]:!0}]),onClick:Y=>w(v),style:E({animationDelay:`${v*.15}s`})},[t("div",H,[t("img",{src:i.src,alt:i.alt,class:"gallerie-image",loading:"lazy",fetchpriority:v<8?"high":"low"},null,8,J)])],14,U))),128))]),u.value?(n(),o("div",K,e[1]||(e[1]=[t("div",{class:"loading-spinner"},null,-1),t("p",{class:"loading-text"},"Chargement...",-1)]))):g("",!0),!m.value&&l.value.length>0&&!u.value?(n(),o("div",P,e[2]||(e[2]=[t("div",{class:"separator mt-4"},[t("span")],-1),t("p",{class:"end-text mt-2"},"Vous avez tout vu",-1)]))):g("",!0),f.value?(n(),o("div",{key:2,class:"lightbox",onClick:I},[t("button",{class:"lightbox-close",onClick:h(I,["stop"])},"×"),a.value>0?(n(),o("button",{key:0,class:"lightbox-prev",onClick:h(S,["stop"])},"←")):g("",!0),t("div",{class:"lightbox-content",onClick:e[0]||(e[0]=h(()=>{},["stop"]))},[t("img",{src:l.value[a.value].src,alt:l.value[a.value].alt},null,8,Q)]),a.value<l.value.length-1?(n(),o("button",{key:1,class:"lightbox-next",onClick:h(M,["stop"])},"→")):g("",!0)])):g("",!0)])]))}},X=j(W,[["__scopeId","data-v-ef1b8c48"]]),le={__name:"Gallerie",props:{title:String},setup(x){return(y,r)=>(n(),o(k,null,[b($),b(X),b(G)],64))}};export{le as default};
